$(function(){function a(){$("#itemListing").children().remove(),$.get("/items/all").done(function(a){for(var g=0;g<a.length;g++)a[g].completed?liHtml=e+a[g].id+f+a[g].text+d:liHtml=b+a[g].id+c+a[g].text+d,$("#itemListing").append(liHtml)})}var b='<li id="',c='"><input class="done_checkbox" type="checkbox"/>',d='<a class="delete_btn" href="#"><i class="fa fa-trash"></i></a></li>',e='<li class="done" id="',f='"><input class="done_checkbox" type="checkbox" checked />';$("#submitButton").on("click",function(){var b=$("#newItemField").val();$.post("/items/new",{text:b}).done(function(b){$("#newItemField").val(""),a()})}),$("#itemListing").on("click",".done_checkbox",function(){var b=$(this).parent(),c=b.attr("id");b.hasClass("done")?$.ajax({method:"put",url:"/items/uncomplete",data:{id:c}}).done(function(b){a()}):$.ajax({method:"put",url:"/items/complete",data:{id:c}}).done(function(b){a()})}),$("#itemListing").on("click",".delete_btn",function(){event.preventDefault();var b=$(this).parent().attr("id");$.ajax({method:"delete",url:"/items",data:{id:b}}).done(function(b){a()})}),a()});